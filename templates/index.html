<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Drone GUI</title>
</head>

<script type="text/javascript" src="/static/poll.js"></script>
<script type="text/javascript" src="/static/jquery-3.4.1.min.js"></script>
<script type="text/javascript" src="/static/gauge.min.js"></script>

<body>
<div id="mode_container" style="text-align: center"><h2>Mode: <span id="mode_set">FULL CONTROL</span></h2></div>
<div id="motor_value_container" style="text-align: center">
    <div style="text-align: center; display:inline-block; width: 300px">
        <h3>Motor 1</h3><br>
        <canvas id="gauge_motor1"></canvas>
        <br>
        <span id="val_motor1"></span>

    </div>
    <div style="text-align: center;display:inline-block; width: 300px">
        <h3>Motor 2</h3><br>
        <canvas id="gauge_motor2"></canvas>
        <br>
        <span id="val_motor2"></span>
    </div>
    <div style="text-align: center;display:inline-block; width: 300px">
        <h3>Motor 3</h3><br>
        <canvas id="gauge_motor3"></canvas>
        <br>
        <span id="val_motor3"></span>

    </div>
    <div style="text-align: center;display:inline-block; width: 300px">
        <h3>Motor 4</h3><br>
        <canvas id="gauge_motor4"></canvas>
        <br>
        <span id="val_motor4"></span>

    </div>


</div>


<script>
    let gauges = [];

    let opts = {
        angle: 0.15, // The span of the gauge arc
        lineWidth: 0.44, // The line thickness
        radiusScale: 1, // Relative radius
        pointer: {
            length: 0.6, // Relative to gauge radius
            strokeWidth: 0.035, // The thickness
            color: '#000000' // Fill color
        },
        limitMax: false,     // If false, max value increases automatically if value > maxValue
        limitMin: false,     // If true, the min value of the gauge will be fixed
        colorStart: '#6FADCF',   // Colors
        colorStop: '#8FC0DA',    // just experiment with them
        strokeColor: '#E0E0E0',  // to see which ones work best for you
        generateGradient: true,
        percentColors: [[0.0, "#32e20b"], [0.75, "#f9c802"], [1.0, "#ff0000"]],
        highDpiSupport: true     // High resolution support
    };
    for (let i = 1; i < 5; i++) {
        let target = document.getElementById('gauge_motor' + i);
        let gauge = new Gauge(target).setOptions(opts);
        gauge.maxValue = 750;
        gauge.setMinValue(0);
        gauge.animationSpeed = 32;
        gauge.set(0);
        gauges.push(gauge);
    }

    setInterval(function () {
        getData()
    }, 250);


</script>

</body>
</html>